import numpy as np
import matplotlib.pyplot as plt
import matplotlib.image as mpimg
import matplotlib.animation as animation
import sys

FPS = 3

x = 32

if sys.argc > 1:
    fichier = sys.argv[1]
    img = mpimg.imread(fichier)
    if img.dtype == np.float32:
        img = (img * 255).astype(np.uint8)
    morceau_im = img[:x,:y,:]
    fig = plt.figure(figsize=(10,10))
    im_anim = plt.imshow(morceau_im)

    def anim(i):
        im_anim.set_data(img[i*x:(i+1)*x])
        return im_anim,
    def init():
        im_anim.set_data([])
        return im_anim,

    animiii = animation.FuncAnimation(fig, animate, init_func=init, interval = 1./FPS, repeat=True)
    plt.show()

else:
    print("Donne le nom du fichier en paramètre enculé\n")
